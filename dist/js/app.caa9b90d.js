(function(t){function e(e){for(var i,o,s=e[0],d=e[1],l=e[2],c=0,p=[];c<s.length;c++)o=s[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(t[i]=d[i]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],i=!0,s=1;s<r.length;s++){var d=r[s];0!==a[d]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=r[0]))}return t}var i={},a={app:0},n=[];function o(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=i,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(r,i,function(e){return t[e]}.bind(null,i));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=d;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var i=r("85ec"),a=r.n(i);a.a},1508:function(t,e,r){},"25fd":function(t,e,r){"use strict";var i=r("1508"),a=r.n(i);a.a},2808:function(t,e,r){"use strict";var i=r("faf7"),a=r.n(i);a.a},"402a":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app"},[r("header",{staticClass:"page-header flex-center"},[t._v(" Список задач ")]),r("article",{staticClass:"main-article"},[r("div",{staticClass:"tasks"},[r("div",{staticClass:"tasks__header"},[r("div",{staticClass:"tasks__header-title"},[t._v(" Первоочередные задачи ")]),r("ToDoFilter",{on:{term:t.setTerm,filterByName:t.filterByName,filterByDone:t.filterByDone}})],1),r("div",{staticClass:"tasks__body"},[r("CardList",{attrs:{cardsData:t.cardsData,term:t.term,filter:t.filter,dragId:t.dragId},on:{onDelete:t.deleteCard,onDragId:t.onDragId,dragCardOrItem:t.setDragCard,addItemInList:t.addItemInCardList}})],1)]),r("div",{staticClass:"group-list"},[r("div",{staticClass:"group-list__header"},[r("div",{staticClass:"group-list__header-title"},[t._v(" Списки задач ")]),r("ToDoFilter",{on:{filterByName:t.filterGroupByName,filterByDone:t.filterGroupByDone,term:t.setGroupTerm}})],1),r("div",{staticClass:"group-list__body"},[r("GroupList",{attrs:{groupData:t.groupData,filterGroup:t.filterGroup,groupTerm:t.groupTerm,dragId:t.dragId,cardsData:t.cardsData},on:{onDelGroup:t.deleteGroup,onDelItem:t.deleteItem,addItem:t.addItem,onDragId:t.onDragId,dragCardOrItem:t.setDragItem}})],1)])]),r("nav",{staticClass:"main-nav"},[r("div",{staticClass:"menu-button",on:{click:function(e){t.choise=!0,t.inputsBlockVisible=!0,t.textAreaVisible=!0,t.labelTextAreaVisible=!0}}},[t._v(" Создать новую задачу ")]),r("div",{staticClass:"menu-button",on:{click:function(e){t.choise=!1,t.inputsBlockVisible=!0,t.textAreaVisible=!1,t.labelTextAreaVisible=!1}}},[t._v(" Создать новый список задач ")]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.inputsBlockVisible,expression:"inputsBlockVisible"}],staticClass:"main-nav__inputs"},[r("label",{staticClass:"main-nav__label",attrs:{for:"title"}},[t._v("Что нужно сделать? ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"main-nav__input",attrs:{id:"title",type:"text"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),r("label",{directives:[{name:"show",rawName:"v-show",value:t.labelTextAreaVisible,expression:"labelTextAreaVisible"}],staticClass:"main-nav__label",attrs:{for:"description"}},[t._v("Описание ")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textArea,expression:"textArea"},{name:"show",rawName:"v-show",value:t.textAreaVisible,expression:"textAreaVisible"}],staticClass:"main-nav__text-area",attrs:{id:"description"},domProps:{value:t.textArea},on:{input:function(e){e.target.composing||(t.textArea=e.target.value)}}}),r("div",{staticClass:"main-nav__button",on:{click:function(e){return t.createElement(t.choise)}}},[t._v("Создать ")])])]),r("footer",{staticClass:"page-footer flex-center"},[t._v(" ustimenkodenis@mail.ru ")]),t.modalVisible?r("Modal",{on:{close:t.closeModal,apply:t.closeModal}}):t._e()],1)},n=[],o=(r("99af"),r("4de4"),r("c740"),r("fb6a"),r("d3b7"),r("25f0"),r("2909")),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"filter"},[r("div",{staticClass:"filter__buttons"},[r("div",{staticClass:"filter__button-title button-filter flex-center",on:{click:t.filterByName}},[t._v(" Название ")]),r("div",{staticClass:"filter__button-done button-filter flex-center",on:{click:t.filterByDone}},[t._v(" Выполнены ")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"filter__input",attrs:{type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})])},d=[],l={data:function(){return{text:null}},methods:{filterByName:function(){return this.$emit("filterByName")},filterByDone:function(){return this.$emit("filterByDone")}},watch:{text:function(t){return this.$emit("term",t)}}},u=l,c=(r("25fd"),r("2877")),p=Object(c["a"])(u,s,d,!1,null,null,null),f=p.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"cardlist",on:{dragover:t.dragOver,drop:t.dragDrop}},t._l(t.filteredCards(this.cardsData,this.term),(function(e){return r("Card",{key:e.id,attrs:{card:e},on:{onDelete:t.deleteCard,onDragId:t.onDragId,dragCardOrItem:t.onDragCard}})})),1)},g=[],h=(r("c975"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"card drag-card",class:{cardopened:t.cardtoggle,hide:t.cardHide},attrs:{draggable:"true"},on:{dragstart:t.dragStart,dragend:t.dragEnd}},[r("div",{staticClass:"card__header flex-between"},[r("div",{staticClass:"card__title flex-center",class:{done:t.card.completed}},[t._v(" "+t._s(t._f("uppercase")(t.card.title))+" ")]),r("div",{staticClass:"card__controls"},[r("input",{staticClass:"checkbox",attrs:{type:"checkbox"},on:{change:function(e){t.card.completed=!t.card.completed}}}),r("div",{staticClass:"card-open-button",on:{click:function(e){t.cardtoggle=!t.cardtoggle}}}),r("div",{staticClass:"delete-button",on:{click:function(e){return t.onDelete(t.card.id)}}})])]),r("div",{staticClass:"card__body"},[t._v(" "+t._s(t.card.description)+" ")])])}),v=[],_={props:{card:{type:Object,required:!0}},data:function(){return{cardtoggle:!1,cardHide:!1}},methods:{onDelete:function(t){return this.$emit("onDelete",t)},dragStart:function(){var t=this;setTimeout((function(){return t.cardHide=!0,t.$emit("onDragId",t.card.id),t.$emit("dragCardOrItem","card")}),0)},dragEnd:function(){this.cardHide=!1}},filters:{uppercase:function(t){return t.toUpperCase()}}},D=_,b=(r("f5f3"),Object(c["a"])(D,h,v,!1,null,null,null)),I=b.exports,C={components:{Card:I},props:["cardsData","term","filter","dragId"],data:function(){return{}},methods:{dragOver:function(t){t.preventDefault()},dragDrop:function(){this.addItemInList(this.dragId)},addItemInList:function(t){return this.$emit("addItemInList",t)},filteredCards:function(t,e){return"done"===this.filter?t.filter((function(t){return t.completed})):"name"===this.filter?0===e.length?t:t.filter((function(t){return t.title.toUpperCase().indexOf(e.toUpperCase())>-1})):void 0},deleteCard:function(t){this.$emit("onDelete",t)},onDragId:function(t){return this.$emit("onDragId",t)},onDragCard:function(){return this.$emit("dragCardOrItem","card")}}},x=C,y=(r("8276"),Object(c["a"])(x,m,g,!1,null,null,null)),O=y.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"grouplist"},t._l(t.filteredGroups(this.groupData,this.groupTerm),(function(e,i){return r("Group",{key:""+i,attrs:{items:e,filterGroup:t.filterGroup,dragId:t.dragId},on:{onDelGroup:t.deleteGroup,onDelItem:t.deleteItem,addItem:t.addItem,onDragId:t.onDragId,dragCardOrItem:t.onDragItem}})})),1)},k=[],$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"group",class:{hovered:t.hovered}},[r("div",{staticClass:"group__header"},[r("div",{staticClass:"group__title flex-center"},[t._v(" "+t._s(t._f("uppercase")(t.items.title))+" ")]),r("div",{staticClass:"group__controls flex-center"},[r("div",{staticClass:"delete-button",on:{click:function(e){return t.$emit("onDelGroup",t.items.id)}}})])]),r("div",{staticClass:"group__body"},[r("ul",{staticClass:"group__list",on:{dragover:t.dragOver,dragenter:t.dragEnter,dragleave:t.dragLeave,drop:t.dragDrop}},t._l(t.filteredItems(),(function(e){return r("GroupItem",{key:e.id,attrs:{item:e},on:{onDelItem:t.deleteItem,onDragId:t.onDragId,dragCardOrItem:t.onDragItem}})})),1)])])},j=[],w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"group-item",class:{hide:t.itemHide},attrs:{draggable:"true"},on:{dragstart:t.dragStart,dragend:t.dragEnd}},[r("div",{staticClass:"group-item__header flex-between"},[r("div",{staticClass:"group-item__title flex-center",class:{done:t.item.completed}},[t._v(" "+t._s(t.item.title)+" ")]),r("div",{staticClass:"group-item__controls flex-center"},[r("input",{staticClass:"item-checkbox",attrs:{type:"checkbox"},on:{change:function(e){t.item.completed=!t.item.completed}}}),r("div",{staticClass:"item-open-button",on:{click:function(e){t.toggle=!t.toggle}}}),r("div",{staticClass:"item-delete-button",on:{click:function(e){return t.$emit("onDelItem",t.item.id)}}})])]),r("div",{staticClass:"group-item__body",class:{opened:t.toggle}},[t._v(" "+t._s(t.item.description)+" ")])])},B=[],T={props:["item"],data:function(){return{toggle:!1,itemHide:!1}},methods:{dragStart:function(){var t=this;setTimeout((function(){return t.itemHide=!0,t.$emit("onDragId",t.item.id),t.$emit("dragCardOrItem","item")}),0)},dragEnd:function(){this.itemHide=!1}}},A=T,V=(r("b22e"),Object(c["a"])(A,w,B,!1,null,null,null)),E=V.exports,N={components:{GroupItem:E},props:["items","filterGroup","dragId"],data:function(){return{hovered:!1}},methods:{onDragId:function(t){return this.$emit("onDragId",t,this.items.id)},onDragItem:function(){return this.$emit("dragCardOrItem","item")},dragOver:function(t){t.preventDefault()},dragEnter:function(){this.hovered=!0},dragLeave:function(){this.hovered=!1},dragDrop:function(){this.hovered=!1,this.addItem(this.dragId,this.items.id)},addItem:function(t,e){return this.$emit("addItem",t,e)},filteredItems:function(){return"done"===this.filterGroup?this.items.group.filter((function(t){return!0===t.completed})):"name"===this.filterGroup?this.items.group:void 0},deleteItem:function(t){this.$emit("onDelItem",t,this.items.id)}},filters:{uppercase:function(t){return t.toUpperCase()}}},L=N,S=(r("2808"),Object(c["a"])(L,$,j,!1,null,null,null)),F=S.exports,P={components:{Group:F},props:["groupData","filterGroup","groupTerm","dragId"],data:function(){return{}},methods:{onDragId:function(t,e){return this.$emit("onDragId",t,e)},onDragItem:function(){return this.$emit("dragCardOrItem","item")},filteredGroups:function(t,e){return"name"===this.filterGroup?0===e?t:t.filter((function(t){return t.title.toUpperCase().indexOf(e.toUpperCase())>-1})):"done"===this.filterGroup?t:void 0},deleteGroup:function(t){this.$emit("onDelGroup",t)},deleteItem:function(t,e){this.$emit("onDelItem",t,e)},addItem:function(t,e){return this.$emit("addItem",t,e)}}},M=P,H=(r("77a4"),Object(c["a"])(M,G,k,!1,null,null,null)),U=H.exports,q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{staticClass:"modal-fade"},[r("div",{staticClass:"modal-backdrop"},[r("div",{staticClass:"modal"},[r("header",{staticClass:"modal-header"},[t._t("header",[t._v(" Вы действительно хотите удалить? ")])],2),r("section",{staticClass:"modal-body"},[t._t("body",[t._v(" Body ")])],2),r("footer",{staticClass:"modal-footer"},[t._t("footer",[r("button",{staticClass:"btn-apply",on:{click:t.apply}},[t._v(" Да ")]),r("button",{staticClass:"btn-cancel",on:{click:t.close}},[t._v(" Нет ")])])],2)])])])},J=[],z={name:"Modal",methods:{data:function(){},close:function(){this.$emit("close")},apply:function(){return this.$emit("apply")}}},K=z,Q=(r("e4f7"),Object(c["a"])(K,q,J,!1,null,null,null)),R=Q.exports,W={name:"App",components:{ToDoFilter:f,CardList:O,GroupList:U,Modal:R},methods:{onDragId:function(t,e){this.dragId=t,this.idGroupFrom=e},setDragCard:function(){this.dragCardOrItem="card"},setDragItem:function(){this.dragCardOrItem="item"},setTerm:function(t){this.term=t},setGroupTerm:function(t){this.groupTerm=t},filterByName:function(){this.filter="name"},filterByDone:function(){this.filter="done"},filterGroupByDone:function(){this.filterGroup="done"},filterGroupByName:function(){this.filterGroup="name"},createElement:function(t){t?(this.addCard(this.input,this.textArea),this.inputsBlockVisible=!1):(this.inputsBlockVisible=!1,this.addGroup(this.input))},addItem:function(t,e){var r=this;if("card"==this.dragCardOrItem){var i=this.groupData.findIndex((function(t){return t.id===e})),a=this.cardsData.findIndex((function(e){return e.id===t})),n=Object(o["a"])(this.groupData[i].group);return n.unshift(this.cardsData[a]),this.deleteCard(this.cardsData[a].id),this.groupData[i].group=n}if("item"==this.dragCardOrItem&&e!==this.idGroupFrom){var s=this.groupData.findIndex((function(t){return t.id===e})),d=this.groupData.findIndex((function(t){return t.id===r.idGroupFrom})),l=this.groupData[d].group.findIndex((function(e){return e.id===t})),u=Object(o["a"])(this.groupData[s].group);return u.unshift(this.groupData[d].group[l]),this.deleteItem(t,this.idGroupFrom),this.groupData[s].group=u}},addItemInCardList:function(t){var e=this;if("item"===this.dragCardOrItem){var r=this.groupData.findIndex((function(t){return t.id===e.idGroupFrom})),i=this.groupData[r].group.findIndex((function(e){return e.id===t})),a=Object(o["a"])(this.cardsData);return a.unshift(this.groupData[r].group[i]),this.deleteItem(t,this.idGroupFrom),this.cardsData=a}},addCard:function(t,e){if(null!==t){var r="f".concat((+new Date).toString(16)),i={id:r,title:t,description:e,completed:!1},a=Object(o["a"])(this.cardsData);return a.unshift(i),this.cardsData=a}},deleteCard:function(t){var e=this.cardsData.findIndex((function(e){return e.id===t})),r=this.cardsData.slice(0,e),i=this.cardsData.slice(e+1),a=[].concat(Object(o["a"])(r),Object(o["a"])(i));this.cardsData=a,this.modalApply=!1},addGroup:function(t){if(null!==t){var e="f".concat((+new Date).toString(16)),r={id:e,title:t,group:[]},i=Object(o["a"])(this.groupData);return i.unshift(r),this.groupData=i}},deleteGroup:function(t){var e=this.groupData.findIndex((function(e){return e.id===t})),r=this.groupData.slice(0,e),i=this.groupData.slice(e+1),a=[].concat(Object(o["a"])(r),Object(o["a"])(i));this.groupData=a},deleteItem:function(t,e){var r=this.groupData.findIndex((function(t){return t.id===e})),i=this.groupData[r].group.findIndex((function(e){return e.id===t})),a=this.groupData[r].group.slice(0,i),n=this.groupData[r].group.slice(i+1),s=[].concat(Object(o["a"])(a),Object(o["a"])(n));this.groupData[r].group=s}},data:function(){return{dragId:0,idGroupFrom:0,dragCardOrItem:"",filter:"name",filterGroup:"name",term:"",groupTerm:"",modalApply:!1,modalVisible:!1,input:null,textArea:null,textAreaVisible:!1,labelTextAreaVisible:!1,inputsBlockVisible:!1,choise:!0,cardsData:[{id:1,title:"Купить",description:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Est fugiat nihil eos vel, ipsam doloremque perferendis architecto possimus saepe obcaecati laborum molestias neque eligendi cum dolore ipsa quod iure. Consectetur.",completed:!1},{id:2,title:"Заплатить",description:"Кредит",completed:!1},{id:3,title:"Прочитать",description:"JS Николас Закас",completed:!1},{id:4,title:"Посмотреть",description:"Netflix",completed:!1}],groupData:[]}}},X=W,Y=(r("034f"),Object(c["a"])(X,a,n,!1,null,null,null)),Z=Y.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(Z)}}).$mount("#app")},"77a4":function(t,e,r){"use strict";var i=r("e4f3"),a=r.n(i);a.a},8276:function(t,e,r){"use strict";var i=r("833c"),a=r.n(i);a.a},"833c":function(t,e,r){},"85ec":function(t,e,r){},9700:function(t,e,r){},b22e:function(t,e,r){"use strict";var i=r("402a"),a=r.n(i);a.a},b62c:function(t,e,r){},e4f3:function(t,e,r){},e4f7:function(t,e,r){"use strict";var i=r("b62c"),a=r.n(i);a.a},f5f3:function(t,e,r){"use strict";var i=r("9700"),a=r.n(i);a.a},faf7:function(t,e,r){}});
//# sourceMappingURL=app.caa9b90d.js.map